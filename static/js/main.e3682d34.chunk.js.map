{"version":3,"sources":["nearEnv.js","utils.js","components/Header.js","assets/freedrinks.jpg","assets/insidesleepstation.jpg","assets/lobby.jpg","assets/lockers.jpg","assets/sleepstationdetail.jpg","assets/sleepstations.jpg","components/Info.js","assets/stairs.jpg","assets/storage.jpg","assets/sleepstation.jpg","assets/relaxation.jpg","assets/restaurant.jpg","components/Rooms.js","App.js","reportWebVitals.js","index.js"],"names":["ROKETO_CONTRACT","WRAP_CONTRACT","DAPP_ACCOUNT","getNearEnv","env","networkId","nodeUrl","roketoAccount","wrapAccount","dappAccount","walletUrl","helperUrl","explorerUrl","Error","nearEnv","a","connect","Object","assign","deps","keyStore","keyStores","BrowserLocalStorageKeyStore","near","window","walletConnection","WalletConnection","accountId","getAccountId","roketoContract","Contract","account","viewMethods","changeMethods","wrapContract","ButtonAppBar","useState","balance","setBalance","useEffect","ft_balance_of","account_id","then","catch","err","console","log","Box","sx","flexGrow","AppBar","position","Toolbar","Typography","variant","component","style","display","flexDirection","textAlign","formatNearAmount","Button","marginLeft","color","onClick","signOut","location","reload","requestSignIn","images","img","lobbyImage","title","lockersImage","sleepStationsImage","sleepStationDetailImage","InsideSleepStationImage","FreeDrinksImage","Info","marginTop","paddingRight","flex","List","ListItem","disablePadding","ListItemIcon","ListItemText","primary","ImageList","cols","rowHeight","map","item","index","ImageListItem","src","srcSet","alt","loading","Rooms","disableButtons","setDisableButtons","outgoingStreams","setOutgoingStreams","booked","endTimestamp","sleepstation","setSleepstation","relaxation","setRelaxation","restaurant","setRestaurant","getAccountOutgoingStreams","length","stream","description","status","JSON","parse","room","minutes","moment","timestamp_created","add","valueOf","createStream","settings","pricePerHour","parseNearAmount","price","toString","pricePerMinute","Big","div","toFixed","pricePerSecond","amountToPay","times","args","receiver_id","amount","memo","msg","stringify","Create","request","owner_id","tokens_per_sec","parseInt","ft_transfer_call","res","get_account_outgoing_streams","from","limit","marginBottom","Card","marginRight","CardMedia","height","image","sleepStationImage","CardContent","gutterBottom","paddingInlineStart","CardActions","size","disabled","to","relaxationImage","restaurantImage","near_deposit","get_account_incoming_streams","App","className","margin","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","darkTheme","createTheme","palette","mode","components","MuiButton","styleOverrides","root","nearInitPromise","initializeContract","ReactDOM","createRoot","document","getElementById","render","StrictMode","ThemeProvider","theme","CssBaseline","error"],"mappings":"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","file":"static/js/main.e3682d34.chunk.js","sourcesContent":["const ROKETO_CONTRACT = 'streaming-r-v2.dcversus.testnet';\nconst WRAP_CONTRACT = 'wrap.testnet'\nconst DAPP_ACCOUNT = 'adriano.testnet';\n\nfunction getNearEnv(env) {\n  switch (env) {\n    case 'mainnet': \n      return {\n        networkId: 'mainnet',\n        nodeUrl: 'https://rpc.mainnet.near.org',\n        roketoAccount: ROKETO_CONTRACT,\n        wrapAccount: WRAP_CONTRACT,\n        dappAccount: DAPP_ACCOUNT,\n        walletUrl: 'https://wallet.near.org',\n        helperUrl: 'https://helper.mainnet.near.org',\n        explorerUrl: 'https://explorer.mainnet.near.org',\n      };\n    case 'testnet': \n      return {\n        networkId: 'testnet',\n        nodeUrl: 'https://rpc.testnet.near.org',\n        roketoAccount: ROKETO_CONTRACT,\n        wrapAccount: WRAP_CONTRACT,\n        dappAccount: DAPP_ACCOUNT,\n        walletUrl: 'https://wallet.testnet.near.org',\n        helperUrl: 'https://helper.testnet.near.org',\n        explorerUrl: 'https://explorer.testnet.near.org',\n      };\n    default:\n      throw Error(`Unknown environment \"${env}\".`);\n  }\n}\n\nexport default getNearEnv;","import { connect, Contract, keyStores, WalletConnection } from 'near-api-js';\n// import { formatNearAmount } from 'near-api-js/lib/utils/format';\nimport getNearEnv from './nearEnv';\n\nconst nearEnv = getNearEnv('testnet');\n\nexport async function initializeContract() {\n  const near = await connect(Object.assign({ deps: { keyStore: new keyStores.BrowserLocalStorageKeyStore() } }, nearEnv));\n  window.walletConnection = new WalletConnection(near);\n  window.accountId = window.walletConnection.getAccountId();\n  window.roketoContract = new Contract(\n    window.walletConnection.account(),\n    nearEnv.roketoAccount,\n    {\n      viewMethods: ['get_stream', 'get_account', 'get_account_incoming_streams', 'get_account_outgoing_streams', 'get_stats'],\n      changeMethods: ['start_stream', 'pause_stream', 'stop_stream', 'withdraw'],\n    }\n  );\n\n  window.wrapContract = new Contract(\n    window.walletConnection.account(),\n    nearEnv.wrapAccount,\n    {\n      viewMethods: ['ft_balance_of'],\n      changeMethods: ['near_deposit', 'ft_transfer_call', 'ft_transfer'],\n    }\n  );\n}\n\n// export async function accountBalance() {\n//   return formatNearAmount(\n//     (await window.walletConnection.account().getAccountBalance()).total,\n//     2\n//   );\n// }\n\nexport async function getAccountId() {\n  return window.walletConnection.getAccountId();\n}\n\nexport function login() {\n  window.walletConnection.requestSignIn(nearEnv.dappAccount);\n}\n\nexport function logout() {\n  window.walletConnection.signOut();\n  window.location.reload();\n}","import React, { useEffect, useState } from 'react';\nimport { formatNearAmount } from 'near-api-js/lib/utils/format';\n\nimport { login, logout } from \"../utils\";\n\nimport {\n  AppBar,\n  Box,\n  Toolbar,\n  Typography,\n  Button\n} from '@mui/material/';\n\nexport default function ButtonAppBar() {\n  const account = window.walletConnection.account();\n\n  const [balance, setBalance] = useState(0)\n\n  useEffect(() => {\n    if (window.accountId && window.wrapContract) {\n      window.wrapContract.ft_balance_of({\n        account_id: `${window.accountId}`,\n      })\n        .then(balance => {\n          setBalance(balance);\n        })\n        .catch(err => {\n          console.log(err);\n        });\n    }\n  }, []);\n\n  return (\n    <Box sx={{ flexGrow: 1 }}>\n      <AppBar position=\"static\">\n        <Toolbar>\n          <Typography variant=\"h6\" component=\"div\" sx={{ flexGrow: 1 }}>\n            NNap\n          </Typography>\n          {account.accountId ? (\n            <>\n              <Box style={{display: 'flex', flexDirection: 'column', textAlign: 'right'}}>\n                <Typography variant=\"caption\">\n                  {account.accountId}\n                </Typography>\n                <Typography variant=\"caption\">\n                  {formatNearAmount(balance, 4)} wNEAR\n                </Typography>\n              </Box>\n              <Button sx={{ marginLeft: 2 }} variant=\"outlined\" color=\"inherit\" onClick={() => logout()}>Logout</Button>\n            </>\n          ) : (\n            <Button color=\"inherit\" onClick={() => login()}>Login</Button>\n          )}\n        </Toolbar>\n      </AppBar>\n    </Box>\n  );\n}","export default __webpack_public_path__ + \"static/media/freedrinks.88738208.jpg\";","export default __webpack_public_path__ + \"static/media/insidesleepstation.8b0bd196.jpg\";","export default __webpack_public_path__ + \"static/media/lobby.0e1ae949.jpg\";","export default __webpack_public_path__ + \"static/media/lockers.39539d6c.jpg\";","export default __webpack_public_path__ + \"static/media/sleepstationdetail.94727617.jpg\";","export default __webpack_public_path__ + \"static/media/sleepstations.c24ab402.jpg\";","import React from 'react';\n\nimport {\n  Box,\n  Typography,\n  List,\n  ListItem,\n  ListItemText,\n  ListItemIcon,\n  ImageList,\n  ImageListItem\n} from '@mui/material';\n\nimport WifiIcon from '@mui/icons-material/Wifi';\nimport ScheduleIcon from '@mui/icons-material/Schedule';\nimport LockIcon from '@mui/icons-material/Lock';\nimport ShowerIcon from '@mui/icons-material/Shower';\nimport SingleBedIcon from '@mui/icons-material/SingleBed';\nimport DoNotTouchIcon from '@mui/icons-material/DoNotTouch';\n\nimport FreeDrinksImage from '../assets/freedrinks.jpg';\nimport InsideSleepStationImage from '../assets/insidesleepstation.jpg';\nimport lobbyImage from '../assets/lobby.jpg';\nimport lockersImage from '../assets/lockers.jpg';\nimport sleepStationDetailImage from '../assets/sleepstationdetail.jpg';\nimport sleepStationsImage from '../assets/sleepstations.jpg';\nimport stairsImage from '../assets/stairs.jpg';\nimport storageImage from '../assets/storage.jpg';\n\n\nconst images = [\n  {\n    img: lobbyImage,\n    title: 'Lobby',\n  },\n  {\n    img: stairsImage,\n    title: 'Stairs',\n  },\n  {\n    img: lockersImage,\n    title: 'Lockers',\n  },\n  {\n    img: sleepStationsImage,\n    title: 'Sleep stations',\n  },\n  {\n    img: sleepStationDetailImage,\n    title: 'Sleep station detail',\n  },\n  {\n    img: InsideSleepStationImage,\n    title: 'Inside station',\n  },\n  {\n    img: storageImage,\n    title: 'Storage inside sleep stations',\n  },\n  // {\n  //   img: chargersImage,\n  //   title: 'Phone charges',\n  // },\n  {\n    img: FreeDrinksImage,\n    title: 'Free drinks',\n  },\n];\n\nfunction Info() {\n  return (\n    <Box style={{\n      display: 'flex',\n      flexDirection: 'row',\n      // alignItems: 'center'\n    }}>\n      <Box style={{\n        display: 'flex',\n        flexDirection: 'column',\n        // alignItems: 'center',\n        // backgroundImage: `url('${mainImage}')`,\n        // backgroundSize: '100%',\n        // backgroundRepeat: 'no-repeat',\n        // height: 475,\n        // width: 675,\n        // paddingTop: 42,\n        marginTop: '1em',\n        paddingRight: '1em',\n        flex: 1\n      }}>\n        <Typography variant='h5'>Pay per minute bed and all day breakfast</Typography>\n\n        <List style={{ marginTop: 16 }}>\n          <ListItem disablePadding>\n            <ListItemIcon><ScheduleIcon /></ListItemIcon>\n            <ListItemText primary='Open 24/7' />\n          </ListItem>\n          <ListItem disablePadding>\n            <ListItemIcon><DoNotTouchIcon /></ListItemIcon>\n            <ListItemText primary='Contactless check in' />\n          </ListItem>\n          <ListItem disablePadding>\n            <ListItemIcon><SingleBedIcon /></ListItemIcon>\n            <ListItemText primary='Comfortable beds' />\n          </ListItem>\n          <ListItem disablePadding>\n            <ListItemIcon><WifiIcon /></ListItemIcon>\n            <ListItemText primary='Wi-fi' />\n          </ListItem>\n          <ListItem disablePadding>\n            <ListItemIcon><LockIcon /></ListItemIcon>\n            <ListItemText primary='Free locker' />\n          </ListItem>\n          <ListItem disablePadding>\n            <ListItemIcon><ShowerIcon /></ListItemIcon>\n            <ListItemText primary='Shared bathroom' />\n          </ListItem>\n        </List>\n      </Box>\n\n      <ImageList style={{flex: 2}} cols={4} rowHeight={180}>\n        {images.map((item, index) => (\n          <ImageListItem key={index}>\n            <img\n              src={`${item.img}?w=130&h=86&fit=crop&auto=format`}\n              srcSet={`${item.img}?w=130&h=86&fit=crop&auto=format&dpr=2 2x`}\n              alt={item.title}\n              loading=\"lazy\"\n            />\n          </ImageListItem>\n        ))}\n      </ImageList>\n    </Box>\n  )\n}\n\nexport default Info","export default __webpack_public_path__ + \"static/media/stairs.8883686a.jpg\";","export default __webpack_public_path__ + \"static/media/storage.f1f84c9e.jpg\";","export default __webpack_public_path__ + \"static/media/sleepstation.00b86089.jpg\";","export default __webpack_public_path__ + \"static/media/relaxation.56f08de9.jpg\";","export default __webpack_public_path__ + \"static/media/restaurant.ae40d7c9.jpg\";","import React, { useEffect, useState } from 'react';\nimport getNearEnv from '../nearEnv';\nimport { parseNearAmount } from 'near-api-js/lib/utils/format';\nimport Big from 'big.js';\nimport moment from 'moment';\n\nimport {\n  Box,\n  Button,\n  Typography,\n  Card,\n  CardMedia,\n  CardContent,\n  CardActions,\n} from '@mui/material';\n\nimport sleepStationImage from '../assets/sleepstation.jpg';\nimport relaxationImage from '../assets/relaxation.jpg';\nimport restaurantImage from '../assets/restaurant.jpg';\n\nconst nearEnv = getNearEnv('testnet');\n\nfunction Rooms() {\n  const [disableButtons, setDisableButtons] = useState(true);\n  const [outgoingStreams, setOutgoingStreams] = useState([]);\n\n  const [sleepstation, setSleepstation] = useState({\n    booked: false,\n    endTimestamp: 0\n  });\n\n  const [relaxation, setRelaxation] = useState({\n    booked: false,\n    endTimestamp: 0\n  });\n\n  const [restaurant, setRestaurant] = useState({\n    booked: false,\n    endTimestamp: 0\n  });\n\n  useEffect(() => {\n    if (window.accountId) setDisableButtons(false);\n    else setDisableButtons(true);\n\n    getAccountOutgoingStreams();\n  }, []);\n\n  useEffect(() => {\n    if (outgoingStreams.length > 0) {\n\n      console.log(outgoingStreams);\n\n      outgoingStreams.map(stream => {\n\n        if (stream.description && stream.status === 'Active') {\n          const { room, minutes } = JSON.parse(stream.description);\n\n          const endTimestamp = moment(stream.timestamp_created / 1000000).add(minutes, 'minutes');\n\n          // console.log(moment(endTimestamp).format());\n          // console.log(moment().valueOf());\n\n          if (moment().valueOf() < endTimestamp) {\n            switch (room) {\n              case 'sleepstation':\n                setSleepstation({\n                  booked: true,\n                  endTimestamp: endTimestamp\n                });\n                break;\n              case 'relaxation':\n                setRelaxation({\n                  booked: true,\n                  endTimestamp: endTimestamp\n                });\n                break;\n              case 'restaurant':\n                setRestaurant({\n                  booked: true,\n                  endTimestamp: endTimestamp\n                })\n                break;\n              default:\n                console.log('Room not valid');\n                break;\n            }\n          }\n        }\n      })\n    }\n  }, [outgoingStreams])\n\n  const createStream = (settings) => {\n    const pricePerHour = parseNearAmount(settings.price.toString());\n    const pricePerMinute = Big(pricePerHour).div(60).toFixed(0);\n    const pricePerSecond = Big(pricePerHour).div(3600).toFixed(0);\n\n\n    const amountToPay = Big(pricePerMinute).times(settings.minutes).toFixed(0);\n\n    const args = {\n      receiver_id: nearEnv.roketoAccount,\n      amount: amountToPay,\n      memo: 'memo',\n      msg: JSON.stringify({\n        Create: {\n          request: {\n            owner_id: window.accountId,\n            receiver_id: nearEnv.dappAccount,\n            tokens_per_sec: parseInt(pricePerSecond),\n            description: JSON.stringify(settings)\n          },\n        },\n      })\n    }\n\n    // console.log(settings);\n\n    window.wrapContract.ft_transfer_call(\n      args,\n      300000000000000,\n      1\n    )\n      .then(res => {\n        console.log(res);\n      })\n      .catch(err => {\n        console.log(err);\n      })\n  }\n\n  const nearDeposit = () => {\n    // console.log('nearDeposit');\n\n    window.wrapContract.near_deposit(\n      {},\n      300000000000000,\n      1\n    )\n  }\n\n  const getAccountIncomingStreams = () => {\n    window.roketoContract.get_account_incoming_streams({\n      account_id: nearEnv.dappAccount,\n      from: 0,\n      limit: 10,\n    })\n      .then(res => {\n        console.log(res);\n      })\n      .catch(err => {\n        console.log(err);\n      })\n  }\n\n  const getAccountOutgoingStreams = () => {\n    window.roketoContract.get_account_outgoing_streams({\n      account_id: window.accountId,\n      from: 0,\n      limit: 10,\n    })\n      .then(res => {\n        // console.log(res);\n\n        setOutgoingStreams(res);\n      })\n      .catch(err => {\n        console.log(err);\n      })\n  }\n\n\n  return (\n    <Box>\n      <Box style={{ display: 'flex', marginBottom: '1em' }}>\n        <Card style={{ marginRight: '1em', flex: 1 }}>\n          <CardMedia\n            component='img'\n            height='300'\n            image={sleepStationImage}\n            alt='Sleep station'\n          />\n          <CardContent>\n            <Typography gutterBottom variant='h5' component='div'>\n              Sleep station\n            </Typography>\n            <Typography variant='body1' color='text.secondary'>\n              Absolute silence station with comfortable bed and pillow under artificial twinkling stars and live plants.\n            </Typography>\n            <Typography variant='subtitle2' color='text.secondary'>\n              <ul style={{ paddingInlineStart: '1em' }}>\n                <li>2 NEAR per hour</li>\n                <li>Minimum of 15 minutes</li>\n                <li>5 spaces left</li>\n              </ul>\n            </Typography>\n          </CardContent>\n          <CardActions>\n            <Button\n              size='small'\n              variant='contained'\n              onClick={() => createStream({\n                room: 'sleepstation',\n                price: 2,\n                minutes: 15\n              })}\n              disabled={sleepstation.booked}\n            >\n              {sleepstation.booked ? 'Already booked' : 'Book'}\n            </Button>\n            <Typography>\n              {sleepstation.booked ? `finishs ${moment().to(sleepstation.endTimestamp)}` : ''}\n            </Typography>\n          </CardActions>\n        </Card>\n\n        <Card style={{ marginRight: '1em', flex: 1 }}>\n          <CardMedia\n            component='img'\n            height='300'\n            image={relaxationImage}\n            alt='Relaxation room'\n          />\n          <CardContent>\n            <Typography gutterBottom variant='h5' component='div'>\n              Relaxation room\n            </Typography>\n            <Typography variant='body1' color='text.secondary'>\n              Casual relaxation space filled with cozy moon pods and yoga mats for meditation classes.\n            </Typography>\n            <Typography variant='subtitle2' color='text.secondary'>\n              <ul style={{ paddingInlineStart: '1em' }}>\n                <li>1 NEAR per hour</li>\n                <li>Minimum of 15 minutes</li>\n                <li>5 spaces left</li>\n              </ul>\n            </Typography>\n          </CardContent>\n          <CardActions>\n            <Button\n              size='small'\n              variant='contained'\n              onClick={() => createStream({\n                room: 'relaxation',\n                price: 1,\n                minutes: 15\n              })}\n              disabled={relaxation.booked}\n            >\n              {relaxation.booked ? 'Already booked' : 'Book'}\n            </Button>\n            <Typography>\n              {relaxation.booked ? `finishs ${moment().to(relaxation.endTimestamp)}` : ''}\n            </Typography>\n          </CardActions>\n        </Card>\n\n        <Card style={{ flex: 1 }}>\n          <CardMedia\n            component='img'\n            height='300'\n            image={restaurantImage}\n            alt='Restaurant'\n          />\n          <CardContent>\n            <Typography gutterBottom variant='h5' component='div'>\n              Restaurant\n            </Typography>\n            <Typography variant='body1' color='text.secondary'>\n              All you can eat restaurant serving healthy meals, juices, coffee and tea.\n            </Typography>\n            <Typography variant='subtitle2' color='text.secondary'>\n              <ul style={{ paddingInlineStart: '1em' }}>\n                <li>3 NEAR per hour</li>\n                <li>Minimum of 30 minutes</li>\n                <li>5 spaces left</li>\n              </ul>\n            </Typography>\n          </CardContent>\n          <CardActions>\n            <Button\n              size='small'\n              variant='contained'\n              onClick={() => createStream({\n                room: 'restaurant',\n                price: 3,\n                minutes: 30\n              })}\n              disabled={restaurant.booked}\n            >\n              {restaurant.booked ? 'Already booked' : 'Book'}\n            </Button>\n            <Typography>\n              {restaurant.booked ? `finishs ${moment().to(restaurant.endTimestamp)}` : ''}\n            </Typography>\n          </CardActions>\n        </Card>\n      </Box>\n\n      <Box style={{ marginBottom: '1em' }}>\n        <Button disabled={disableButtons} variant='contained' onClick={() => nearDeposit()}>{`Wrap (1 NEAR -> 1 wNEAR)`}</Button>\n        <Button disabled={disableButtons} variant='contained' onClick={() => getAccountIncomingStreams()}>Get incoming streams (dApp)</Button>\n        <Button disabled={disableButtons} variant='contained' onClick={() => getAccountOutgoingStreams()}>Get outgoing streams (User)</Button>\n      </Box>\n    </Box>\n  )\n}\n\nexport default Rooms;","import React from \"react\";\n\nimport Header from './components/Header';\nimport Info from \"./components/Info\";\nimport Rooms from \"./components/Rooms\";\n\nimport { Box } from \"@mui/material\";\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <Header />\n      <Box style={{margin: '0 1em'}}>\n        <Info />\n        <Rooms />\n      </Box>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom/client';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nimport { CssBaseline } from \"@mui/material\";\nimport { ThemeProvider, createTheme } from '@mui/material/styles';\n\nimport { initializeContract } from \"./utils\";\n\nconst darkTheme = createTheme({\n  palette: {\n    mode: 'dark',\n  },\n  components: {\n    // Name of the component\n    MuiButton: {\n      styleOverrides: {\n        // Name of the slot\n        root: {\n          // Some CSS\n          margin: '8px',\n        },\n      },\n    },\n  },\n});\n\nwindow.nearInitPromise = initializeContract()\n  .then(() => {\n    const root = ReactDOM.createRoot(document.getElementById('root'));\n    root.render(\n      <React.StrictMode>\n        <ThemeProvider theme={darkTheme}>\n          <CssBaseline />\n          <App />\n        </ThemeProvider>\n      </React.StrictMode>\n    );\n  })\n  .catch(console.error);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}